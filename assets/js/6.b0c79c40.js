(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{351:function(e,a,s){e.exports=s.p+"assets/img/docker.3f34df04.jpg"},380:function(e,a,s){"use strict";s.r(a);var r=s(25),t=Object(r.a)({},(function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"docker"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[e._v("#")]),e._v(" Docker")]),e._v(" "),r("h2",{attrs:{id:"介绍"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[e._v("#")]),e._v(" 介绍")]),e._v(" "),r("p",[r("img",{attrs:{src:s(351),alt:"Yeoman"}})]),e._v(" "),r("h2",{attrs:{id:"安装"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[e._v("#")]),e._v(" 安装")]),e._v(" "),r("h3",{attrs:{id:"linux"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#linux"}},[e._v("#")]),e._v(" Linux")]),e._v(" "),r("div",{staticClass:"language-bash line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt-get")]),e._v(" update\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt-get")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" -y docker.io\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br")])]),r("h3",{attrs:{id:"windows"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#windows"}},[e._v("#")]),e._v(" Windows")]),e._v(" "),r("h2",{attrs:{id:"换源"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#换源"}},[e._v("#")]),e._v(" 换源")]),e._v(" "),r("h2",{attrs:{id:"概念"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[e._v("#")]),e._v(" 概念")]),e._v(" "),r("h3",{attrs:{id:"镜像"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#镜像"}},[e._v("#")]),e._v(" 镜像")]),e._v(" "),r("h3",{attrs:{id:"容器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#容器"}},[e._v("#")]),e._v(" 容器")]),e._v(" "),r("h3",{attrs:{id:"仓库"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#仓库"}},[e._v("#")]),e._v(" 仓库")]),e._v(" "),r("h2",{attrs:{id:"启动"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[e._v("#")]),e._v(" 启动")]),e._v(" "),r("div",{staticClass:"language-bash line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[e._v("docker version\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("service")]),e._v(" start docker\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br")])]),r("h2",{attrs:{id:"命令"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#命令"}},[e._v("#")]),e._v(" 命令")]),e._v(" "),r("div",{staticClass:"language-bash line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[e._v("docker version\ndocker info\ndocker "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("ps")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# docker run [OPTIONS] IMAGE[:TAG] [COMMAND] [ARG...]")]),e._v("\ndocker run -dP nginx\ndocker run -d -p "),r("span",{pre:!0,attrs:{class:"token number"}},[e._v("8080")]),e._v(":80 --name mynginx nginx\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# docker images [OPTIONS] [REPOSITORY[:TAG]]")]),e._v("\ndocker images\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# docker pull [OPTIONS] NAME[:TAG]")]),e._v("\ndocker pull nginx\ndocker build -t jpress:latest "),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# docker exec ")]),e._v("\ndocker "),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("exec")]),e._v(" -it nginx "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("bash")]),e._v("\ndocker stop f9\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br"),r("span",{staticClass:"line-number"},[e._v("7")]),r("br"),r("span",{staticClass:"line-number"},[e._v("8")]),r("br"),r("span",{staticClass:"line-number"},[e._v("9")]),r("br"),r("span",{staticClass:"line-number"},[e._v("10")]),r("br"),r("span",{staticClass:"line-number"},[e._v("11")]),r("br"),r("span",{staticClass:"line-number"},[e._v("12")]),r("br"),r("span",{staticClass:"line-number"},[e._v("13")]),r("br"),r("span",{staticClass:"line-number"},[e._v("14")]),r("br")])]),r("h2",{attrs:{id:"dockerfile"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile"}},[e._v("#")]),e._v(" Dockerfile")]),e._v(" "),r("p",[e._v("由命令语句组成，支持以 "),r("code",[e._v("#")]),e._v(" 开头的注释行，Dockerfile分为四部分")]),e._v(" "),r("ol",[r("li",[e._v("基础镜像信息")]),e._v(" "),r("li",[e._v("维护者信息")]),e._v(" "),r("li",[e._v("镜像操作指令")]),e._v(" "),r("li",[e._v("容器启动时执行指令")])]),e._v(" "),r("h3",{attrs:{id:"指令"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#指令"}},[e._v("#")]),e._v(" 指令")]),e._v(" "),r("ol",[r("li",[e._v("FROM：必须是第一个，可使用多个")]),e._v(" "),r("li",[e._v("MAINTAINER：维护者信息")]),e._v(" "),r("li",[e._v("RUN：在镜像中执行的命令(shell/exec)，命令较长时可以使用 "),r("code",[e._v("\\")]),e._v(' 换行\nRUN command 或 RUN ["executable", "param1", "param2"]\n前者等同于RUN ["/bin/bash", "-c", "echo hello"]')]),e._v(" "),r("li",[e._v("COPY：复制本地主机的 "),r("code",[e._v("<src>")]),e._v(" 到容器中的 "),r("code",[e._v("<dest>")]),e._v(" 。当使用本地目录为源目录时，推荐使用 "),r("code",[e._v("COPY")]),e._v(" 。"),r("div",{staticClass:"language-dockerfile line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# COPY <src> <dest>")]),e._v("\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br")])])]),e._v(" "),r("li",[e._v("ADD：将复制指定的 "),r("code",[e._v("<src>")]),e._v(" 到容器中的 "),r("code",[e._v("<dest>")]),e._v("，"),r("code",[e._v("<src>")]),e._v(" 可以是Dockerfile所在目录的一个相对路径，也可以是一个URL，或者一个tar文件（自动解压为目录）。"),r("div",{staticClass:"language-dockerfile line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ADD <src> <dest>")]),e._v("\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br")])])]),e._v(" "),r("li",[e._v('CMD：只执行一条CMD，指定多条后边的会覆盖前边的，如果运行容器时指定了运行的命令会覆盖CMD命令，有三种格式\nCMD ["executable","param1","param2"] 使用 exec 执行，推荐方式；\nCMD command param1 param2 在 /bin/sh 中执行，提供给需要交互的应用；\nCMD command param1 param2 在 /bin/sh 中执行，提供给需要交互的应用；')]),e._v(" "),r("li",[e._v("ENTRYPOINT：配置容器启动后执行的命令，并且不可被 "),r("code",[e._v("docker run")]),e._v(" 提供的参数覆盖。每个 DockerFile 中只能由一个 "),r("code",[e._v("ENTRYPOINT")]),e._v(" ，指定多个只有最后一个生效。"),r("div",{staticClass:"language-dockerfile line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[e._v('# ENTRYPOINT ["executable", "param1", "param2"]')]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ENTRYPOINT command param1 param2 (shell中执行)")]),e._v("\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br")])])]),e._v(" "),r("li",[e._v("ENV：指定一个环境变量，会被后续 "),r("code",[e._v("RUN")]),e._v(" 指令使用，并在容器运行时保持。"),r("div",{staticClass:"language-dockerfile line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ENV <key> <value>")]),e._v("\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br")])])]),e._v(" "),r("li",[e._v("ARG：")]),e._v(" "),r("li",[e._v("VOLUME：创建一个可以从本地主机或其他容器挂载的挂载点，一般用来存放数据库和需要保持的数据等。"),r("div",{staticClass:"language-dockerfile line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("VOLUME")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),r("span",{pre:!0,attrs:{class:"token string"}},[e._v('"/data"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br")])])]),e._v(" "),r("li",[e._v("EXPOSE：暴露端口，在启动容器时需要通过 -P，Docker 主机会自动分配一个端口转发到指定的端口。"),r("div",{staticClass:"language-dockerfile line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# EXPOSE <port> [<port>...]")]),e._v("\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br")])])]),e._v(" "),r("li",[e._v("WORKDIR：为后续的 "),r("code",[e._v("RUN")]),e._v("、 "),r("code",[e._v("CMD")]),e._v("、 "),r("code",[e._v("ENTRYPOINT")]),e._v(" 指令配置工作目录。"),r("div",{staticClass:"language-dockerfile line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("WORKDIR")]),e._v(" /path/to/workdir\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br")])])]),e._v(" "),r("li",[e._v("USER：指定运行容器时的用户名或 UID ，后续的 "),r("code",[e._v("RUN")]),e._v(" 也会使用指定用户。"),r("div",{staticClass:"language-dockerfile line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("USER")]),e._v(" daemon\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br")])])]),e._v(" "),r("li",[e._v("HEALTHCHECK：")]),e._v(" "),r("li",[e._v("ONBUILD：配置当所创建的镜像作为其他新创建镜像的基础镜像时，所执行的操作指令。"),r("div",{staticClass:"language-dockerfile line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ONBUILD [INSTRUCTION]")]),e._v("\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br")])])])]),e._v(" "),r("h2",{attrs:{id:"docker-compose"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose"}},[e._v("#")]),e._v(" Docker Compose")]),e._v(" "),r("h2",{attrs:{id:"参考文档"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考文档"}},[e._v("#")]),e._v(" 参考文档")]),e._v(" "),r("ol",[r("li",[r("a",{attrs:{href:"http://www.dockerinfo.net/document",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker中文文档"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://juejin.im/post/5cce4b1cf265da0373719819",target:"_blank",rel:"noopener noreferrer"}},[e._v("[手把手系列之]Docker 部署 vue 项目"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://www.jianshu.com/p/8474119c8cd1",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker小栈-【docker ps】"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://blog.csdn.net/qq_36850813/article/details/96848886",target:"_blank",rel:"noopener noreferrer"}},[e._v("docker如何退出就删除容器（示例）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://www.runoob.com/docker/docker-tutorial.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker 教程"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://mp.weixin.qq.com/s?__biz=MzU0Mzk1OTU2Mg==&mid=2247483881&idx=1&sn=aa27e5eca7d24ad2fe0c403a52cb1913&chksm=fb023e8ccc75b79a1970a2f83b3df31a12a3e2963ef1d2c5804177c7abf368c081fe5c18cc33&token=455439095&lang=zh_CN&scene=21#wechat_redirect",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker最全教程——从理论到实战（一）"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=t.exports}}]);